<div class="container">
  <h3 class="text-center">Add Event</h3>
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <form [formGroup]="form" (submit)="onSaveEvent()" *ngIf="!isLoading">
    <div class="row">
        <div class="col s6">
          <mat-form-field >
            <mat-label>Event name</mat-label>
            <input matInput type="text" formControlName="name" placeholder="Event name">
            <mat-error *ngIf="form.get('name').invalid">Please enter a event name.</mat-error>
          </mat-form-field>
          
          <mat-form-field >
            <mat-label>Event start date</mat-label>
            <input matInput [matDatepicker]="picker1" formControlName="from" placeholder="From">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
            <mat-error *ngIf="form.get('from').invalid">Please enter a event start date.</mat-error>
          </mat-form-field>
          
          <mat-form-field >
            <mat-label>Event end date</mat-label>
            <input matInput [matDatepicker]="picker2" formControlName="to" placeholder="To">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2 color="primary"></mat-datepicker>
            <mat-error *ngIf="form.get('to').invalid">Please enter a event end date.</mat-error>
          </mat-form-field>
          
          <mat-form-field>
            
            <input matInput type="text" formControlName="time" placeholder="Event time">
            <mat-error *ngIf="form.get('time').invalid">Please enter a event time.</mat-error>
          </mat-form-field>
         
          <mat-form-field>
            <mat-label>Event Address</mat-label>
            <textarea matInput rows="2" formControlName="location" placeholder="Event location"></textarea>
            <mat-error *ngIf="form.get('location').invalid">Please enter a event location.</mat-error>
          </mat-form-field>
        </div>

        <div class="col s6">
          <span class="default-image"><img src="../../../assets/images/card-image-1.jpg"></span>
          <span class="upload-icon" (click)="filePicker.click()">
            <img src="../../../assets/images/upload-icon.png">
            <input type="file" #filePicker (change)="onImagePicked($event)">
          </span>
          <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid">
            <img [src]="imagePreview" [alt]="form.value.name">
          </div>
        </div> 
      </div>
      <button mat-raised-button color="accent" type="submit">Save Event</button>
    </form>

    <h6>Ticket Information</h6>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <!-- Position Column -->
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef> No. </th>
          <td mat-cell *matCellDef="let element"> {{element.position}} </td>
        </ng-container>
      
        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let element"> {{element.type}} </td>
        </ng-container>
      
        <!-- Weight Column -->
        <ng-container matColumnDef="weight">
          <th mat-header-cell *matHeaderCellDef> Weight </th>
          <td mat-cell *matCellDef="let element"> {{element.price}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
</div>